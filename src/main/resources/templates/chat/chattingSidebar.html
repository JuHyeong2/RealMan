<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>chattingSidebar</title>
    <link rel="stylesheet" href="/css/chat/chattingSidebar.css"/>
</head>
<body>
    <div class="chatSidebar">
    	<nav>
    		<ul>
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp음성 채널</h4>
					<th:block th:each="c : ${Chat}">
						<table class ="voice">
							<tr>
								<td width="20px" height="20px"><img src="/image/Voice.png"></td>
								<td width="40px" height="20px">
								</td>
							</tr>
						</table>
					</th:block>
    		</ul>
    		<ul>
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp채팅 채널</h4>
					<th:block th:each="c : ${chat}">

						<table class ="chat">
							<tr>
								<td width="20px" height="20px"><img src="/image/chat.png"></td>
								<td width="40px" height="20px">
									<a href="/chatting/${no}/${c.channelNo}"></a>
								</td>
							</tr>
						</table>
					</th:block>
    		</ul>
    	</nav>
    </div>
	
	<script>
		// 음성 채팅방 드롭다운
		document.querySelectorAll('.channel')[0].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('nav ul th li');
			const people = document.querySelector('nav ul ul th li');
			
			if(chatRoom.style.display == '' || chatRoom.style.display == 'none'){
				chatRoom.style.display = 'block';
				people.style.display = 'block';	
			}else{
				chatRoom.style.display = 'none';
				people.style.display = 'none';
			}
		})
		
		// 채팅 채팅방 드롭다운
		document.querySelectorAll('.channel')[1].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('nav > ul:nth-of-type(2) li');
			const people = document.querySelector('nav > ul:nth-of-type(2) ul li');
			
			if(chatRoom.style.display === '' || chatRoom.style.display === 'none'){
				chatRoom.style.display = 'block';
				people.style.display = 'block';	
			}else{
				chatRoom.style.display = 'none';
				people.style.display = 'none';
			}
		})
	</script>

</body>
</html>