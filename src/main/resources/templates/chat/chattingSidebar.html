<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>chattingSidebar</title>
    <link rel="stylesheet" href="/css/chat/chattingSidebar.css"/>
</head>
<body>
    <div class="chatSidebar">
    	<nav>
    		<ul>
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbspìŒì„± ì±„ë„</h4>
                <div class="voiceList">
                    <th:block th:each="c : ${Chat}">
                        <table class="voice">
                            <tr>
                                <td width="20px" height="20px"><img src="/image/Voice.png"></td>
                                <td width="40px" height="20px" th:text="${c.channelName}"></td>
                            </tr>
                        </table>
                    </th:block>
                </div>
    			
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbspì±„íŒ… ì±„ë„</h4>
                <div class="chatList">
                    <th:block th:each="c : ${Chat}">
                        <table class="chat">
                            <tr>
                                <td width="20px" height="20px"><img src="/image/chat.png"></td>
                                <td width="40px" height="20px">
                                    <a th:href="@{/chatting/{no}/{channelNo}(no=${no}, channelNo=${c.channelNo})}" th:text="${c.channelName}"></a>
                                </td>
                            </tr>
                        </table>
                    </th:block>
                </div>
            </ul>
        </nav>
    	
    	<div class="profile">
    		<img src="/image/no-profile.svg" width="50px" onclick="ProfileModal()">
    		<b th:text="${member.memberNickname}" onclick="goToMyAccount()"></b>
    		<img id="micImg" src="/image/preferences/mic.png" width="30px">
    		<img src="/image/preferences/Headphones.png" width="30px">
    		<img src="/image/preferences/Preferences.png" width="30px" onclick="goToMyAccount()">
    	</div>
    </div>


	<!-- í”„ë¡œí•„ ëª¨ë‹¬ -->
	<div id="profileModal" class="modal">
	    <div class="modal-content">
	        <span class="close" onclick="closeProfileModal()">&times;</span>
	
	        <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
	        <div class="profile-modal-header">
	            <img src="/image/no-profile.svg" width="80px">
	        </div>
	
	        <h2>í”„ë¡œí•„ ì„¤ì •</h2>
	
	        <label for="statusSelect">ìƒíƒœ ë³€ê²½</label>
	        <select id="statusSelect">
	            <option value="online">ğŸŸ¢ ì˜¨ë¼ì¸</option>
	            <option value="away">ğŸŸ¡ ìë¦¬ë¹„ì›€</option>
	            <option value="offline">âš« ì˜¤í”„ë¼ì¸</option>
	        </select>
	
	        <button onclick="goToMyAccount()">ë‚´ ì •ë³´ ìˆ˜ì •</button>
	    </div>
	</div>
		
	
	<script>
		// ìŒì„± ì±„íŒ…ë°© ë“œë¡­ë‹¤ìš´
		document.querySelectorAll('.channel')[0].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('.voiceList');
			// const people = document.querySelector('nav ul ul th li');
			console.log("ìŒì„± ì±„ë„ í´ë¦­ë¨!");
			
			if(chatRoom.style.display === 'none' || chatRoom.style.display === ''){
				chatRoom.style.display = 'block';
				// people.style.display = 'block';
			}else{
				chatRoom.style.display = 'none';
				// people.style.display = 'none';
			}
		})
		
		// ì±„íŒ… ì±„íŒ…ë°© ë“œë¡­ë‹¤ìš´
		document.querySelectorAll('.channel')[1].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('.chatList');
			// const people = document.querySelector('nav > ul:nth-of-type(2) ul li');
			console.log("ì±„íŒ… ì±„ë„ í´ë¦­ë¨!");

			if(chatRoom.style.display === 'none' || chatRoom.style.display === ''){
				chatRoom.style.display = 'block';
				// people.style.display = 'block';
			}else{
				chatRoom.style.display = 'none';
				// people.style.display = 'none';
			}
		})
		
		// í”„ë¡œí•„ ì‚¬ì§„, ë‹‰ë„¤ì„, í†±ë‹ˆë°”í€´ í´ë¦­ì‹œ ë‚´ê³„ì • í˜ì´ì§€ë¡œ ì´ë™
		const goToMyAccount=()=>{
			location.href = '/prefs/myProfile';
		}
	</script>
	
	 <script>
        // í”„ë¡œí•„ ëª¨ë‹¬ ì—´ê¸°
        function ProfileModal() {
            document.getElementById("profileModal").style.display = "block";
        }

        // í”„ë¡œí•„ ëª¨ë‹¬ ë‹«ê¸°
        function closeProfileModal() {
            document.getElementById("profileModal").style.display = "none";
        }

        // ë‚´ ì •ë³´ í˜ì´ì§€ë¡œ ì´ë™
        function goToMyAccount() {
            location.href = '/prefs/myProfile';
        }

    </script>

</body>
</html>