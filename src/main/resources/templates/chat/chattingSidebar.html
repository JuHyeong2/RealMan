<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>chattingSidebar</title>
    <link rel="stylesheet" href="/css/chat/chattingSidebar.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

	<div class="channel-list bg-light d-flex flex-column" style="width: 320px;">
	    <nav>
    		<ul>
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp음성 채널</h4>
					<li><a href="#"><img src="/image/Voice.png">롤토체스 음성방</a></li>
    				<ul>
    					<li><img src="/image/profile.png">&nbsp이주형</li>
    				</ul>
    			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp채팅 채널</h4>
					<li><a href="#"><img src="/image/chat.png">롤토체스 채팅방</a></li>
    				<ul>
    				<li></li>
    				</ul>
    				<li><a href="#"><img src="/image/chat.png">수다떠는 채팅방</a></li>
    				<ul>
    				<li></li>
    				</ul>
    		</ul>
    	</nav>
    	
    	<div class="profile">
    		<img src="/image/no-profile.svg" width="50px" onclick="ProfileModal()">
    		<b th:text="${member.memberNickname}" onclick="goToMyAccount()"></b>
    		<img id="micImg" src="/image/preferences/mic.png" width="30px">
    		<img src="/image/preferences/Headphones.png" width="30px">
    		<img src="/image/preferences/Preferences.png" width="30px" onclick="goToMyAccount()">
    	</div>
	</div>
	
<!--     <div class="chatSidebar"> -->
<!--     	<nav> -->
<!--     		<ul> -->
<!--     			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp음성 채널</h4> -->
<!-- 					<li><a href="#"><img src="/image/Voice.png">롤토체스 음성방</a></li> -->
<!--     				<ul> -->
<!--     					<li><img src="/image/profile.png">&nbsp이주형</li> -->
<!--     				</ul> -->
<!--     			<h4 class="channel"><img src="/image/Dropdown.png">&nbsp채팅 채널</h4> -->
<!-- 					<li><a href="#"><img src="/image/chat.png">롤토체스 채팅방</a></li> -->
<!--     				<ul> -->
<!--     				<li></li> -->
<!--     				</ul> -->
<!--     				<li><a href="#"><img src="/image/chat.png">수다떠는 채팅방</a></li> -->
<!--     				<ul> -->
<!--     				<li></li> -->
<!--     				</ul> -->
<!--     		</ul> -->
<!--     	</nav> -->
    	
<!--     	<div class="profile"> -->
<!--     		<img src="/image/no-profile.svg" width="50px" onclick="goToMyAccount()"> -->
<!--     		<b th:text="${member.memberNickname}" onclick="goToMyAccount()"></b> -->
<!--     		<img id="micImg" src="/image/preferences/mic.png" width="30px"> -->
<!--     		<img src="/image/preferences/Headphones.png" width="30px"> -->
<!--     		<img src="/image/preferences/Preferences.png" width="30px" onclick="goToMyAccount()"> -->
<!--     	</div> -->
<!--     </div> -->


	<!-- 프로필 모달 -->
	<div id="profileModal" class="modal">
	    <div class="modal-content">
	        <span class="close" onclick="closeProfileModal()">&times;</span>
	        <h2>프로필 설정</h2>
	        <button onclick="goToMyAccount()">내 정보 수정</button>
	    </div>
	</div>
	
	
	<script>
		// 음성 채팅방 드롭다운
		document.querySelectorAll('.channel')[0].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('nav ul li');
			const people = document.querySelector('nav ul ul li');
			
			if(chatRoom.style.display == '' || chatRoom.style.display == 'none'){
				chatRoom.style.display = 'block';
				people.style.display = 'block';	
			}else{
				chatRoom.style.display = 'none';
				people.style.display = 'none';
			}
		})
		
		// 채팅 채팅방 드롭다운
		document.querySelectorAll('.channel')[1].addEventListener('click', ()=>{
			const chatRoom = document.querySelector('nav > ul:nth-of-type(2) li');
			const people = document.querySelector('nav > ul:nth-of-type(2) ul li');
			
			if(chatRoom.style.display == '' || chatRoom.style.display == 'none'){
				chatRoom.style.display = 'block';
				people.style.display = 'block';	
			}else{
				chatRoom.style.display = 'none';
				people.style.display = 'none';
			}
		})
		
		// 프로필 사진, 닉네임, 톱니바퀴 클릭시 내계정 페이지로 이동
		const goToMyAccount=()=>{
			location.href = '/prefs/myProfile';
		}
	</script>
	
	<script src="/js/chat/chattingSidebar.js"></script>

</body>
</html>