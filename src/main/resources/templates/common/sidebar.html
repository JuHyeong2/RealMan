<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>sidebar</title>

    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <link href="/css/common/sidebar.css" rel="stylesheet" type="text/css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
</head>

<body th:class="'theme-' + ${session.theme.themeColor} + ' font-' + ${session.theme.fontType} + ' text-size-' + ${session.theme.fontSize.toLowerCase()}">

    <!-- 서버 리스트 뼈대 -->
    <div
      class="server-list p-2"
      style="width: 80px; display: flex; flex-direction: column"
    >
      <h6 class="text-center" onclick="location.href='/main';">
        <img class="mainLogo" src="/image/RealManLogo.png" width="60px" />
      </h6>

      <div id="dynamic-server-list"></div>


      <div class="addServer"><span>+</span></div>
      <div class="setting" onclick="goToSettings()">
        <img src="/image/preferences/Preferences.png"
             width="30px"
        />
      </div>
    </div>

    <!-- 모달 -->
    <div class="add-modal-overlay" id="modalOverlay"></div>

    <div class="add-modal" id="addServerModal">
      <div class="server-step server-step-1">
        <h5>서버 추가</h5>
        <p>추가할 서버 이름을 입력하세요.</p>
        <input
          type="text"
          class="form-control server-name-input mb-2"
          placeholder="서버 이름 입력"
        />
        <button class="add-modalbtn btn btn-primary w-100 next-step">
          다음
        </button>
      </div>

      <div class="server-step server-step-2" style="display: none">
        <h5>서버 아이콘 이미지 (선택)</h5>
        <p>선택하지 않을 시 서버 이름으로 생성됩니다.</p>
        <input
          type="file"
          class="form-control server-img-input mb-2"
          accept="image/*"
        />
        <div class="d-flex justify-content-between">
          <button class="btn btn-secondary prev-step">이전</button>
          <button class="add-modalbtn btn btn-success add-server-final">
            서버 생성
          </button>
        </div>
      </div>
      <form
        id="addServerForm"
        method="post"
        action="/server/add"
        enctype="multipart/form-data"
        style="display: none"
      >
        <input type="text" name="serverName" id="serverNameInput" />
        <input type="file" name="image" id="serverImageInput" />
      </form>
    </div>

    <script src="/js/common/sideBar.js"></script>
  </body>
</html>
